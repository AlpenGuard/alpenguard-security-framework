# AlpenGuard Oracle (Cloud Run)
# Never commit real secrets. Use Secret Manager for production.

# Required: encryption key for AES-256-GCM payload encryption at rest.
# Must be base64 that decodes to exactly 32 bytes.
ALPENGUARD_KMS_KEY_B64=

# Optional: set storage dir (Cloud Run defaults to /tmp/alpenguard-data)
ALPENGUARD_DATA_DIR=/tmp/alpenguard-data

# Durable storage (S3-compatible: Cloudflare R2 / AWS S3 / Backblaze B2)
# If set, S3-compatible storage is used in preference to GCS/local.
ALPENGUARD_S3_BUCKET=
ALPENGUARD_S3_PREFIX=alpenguard
# For Cloudflare R2, this is your account-specific S3 endpoint, e.g.:
#   https://<ACCOUNT_ID>.r2.cloudflarestorage.com
ALPENGUARD_S3_ENDPOINT=
# For Cloudflare R2 use "auto".
ALPENGUARD_S3_REGION=auto
ALPENGUARD_S3_ACCESS_KEY_ID=
ALPENGUARD_S3_SECRET_ACCESS_KEY=

# Durable storage (recommended for public beta)
# If set, the Oracle will store encrypted TraceRecord JSON objects in GCS under:
#   gs://$ALPENGUARD_GCS_BUCKET/$ALPENGUARD_GCS_PREFIX/traces/...
# Cloud Run service account must have permissions to read/write objects.
ALPENGUARD_GCS_BUCKET=
ALPENGUARD_GCS_PREFIX=alpenguard

# OIDC (recommended for any public deployment)
ALPENGUARD_OIDC_ENABLED=1
ALPENGUARD_OIDC_ISSUER=
ALPENGUARD_OIDC_AUDIENCE=
ALPENGUARD_OIDC_JWKS_URL=
ALPENGUARD_OIDC_JWKS_TTL_SECS=300

# CORS: comma-separated list of allowed console origins
ALPENGUARD_CORS_ORIGINS=http://localhost:5173

# Rate limiting
ALPENGUARD_RATELIMIT_RPS=25
